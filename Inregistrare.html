<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Registration</title>
  <base href="http://192.168.100.53:8081/">
  <link rel="stylesheet" href="http://192.168.100.53:8081/css/form.css" type="text/css" media="screen">
  <style>
    /* Styles for the form container */
    .form-container {
      position: relative; /* Added relative positioning */
      width: 100%;
      max-width: 280px;
      max-height: 700px; /* Adjusted maximum height */
      padding: 20px;
      background: linear-gradient(135deg, #00008b, #90a9b2, #d2ae38); /* Adjusted linear gradient background */
      border-radius: 20px;
      margin: 0 auto;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      overflow: auto; /* Added overflow to handle content exceeding the height */
    }
  
    /* Styles for the form header */
    .form-container h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #4c4c4c;
    }
  
    /* Styles for the form labels */
    .form-container label {
      display: block;
      font-weight: bold;
      margin-bottom: 5px;
      color: #4c4c4c;
    }
  
    /* Styles for the form inputs */
    .form-container input[type="text"],
    .form-container input[type="password"],
    .form-container button[type="submit"] {
      /* Adjusted width to account for padding */
      width: calc(100% - 40px); 
      padding: 10px;
      margin-bottom: 10px; /* Adjusted margin */
      border: none;
      border-radius: 10px;
      background-color: slategray;
      color: #fff;
      /* Added box-sizing for accurate width calculation */
      box-sizing: border-box; 
    }
    /* Styles for the form elements */
    .form-container input[type="text"],
    .form-container input[type="password"] {
      position: relative; /* Added relative positioning */
    }
    .form-container input[type="text"]:hover,
    .form-container input[type="password"]:hover {
      /* Added animation on hover */
      animation: drawLine 0.5s ease forwards; 
    }
    /* Draw red-blue-white line when hovering over the input field */
    .form-container input[type="text"]::after,
    .form-container input[type="password"]::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      pointer-events: none; /* Prevents hover effect from triggering on pseudo-element */
      box-shadow: 0 0 0 0px red, 0 0 0 0px blue, 0 0 0 0px white;
      transition: box-shadow 0.5s ease; /* Added transition for smooth effect */
    }
    /* Hide line when leaving the input field */
    .form-container input[type="text"]:not(:hover)::after,
    .form-container input[type="password"]:not(:hover)::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      /* Transparent border */
      border: 2px solid transparent; 
      /* Prevents hover effect from triggering on pseudo-element */
      pointer-events: none; 
    }
    /* Draw red-blue-white line when hovering over the input field */
    .form-container input[type="text"]:hover::after,
    .form-container input[type="password"]:hover::after {
      /* Red-blue-white linear gradient */
      border-image: linear-gradient(to right, red, blue, white); 
      /* Border image slice */
      border-image-slice: 1; 
      /* Animation to draw line */
      animation: drawLine 0.5s ease forwards; 
    }
  
    /* Styles for the remember me checkbox */
    .form-container input[type="checkbox"] {
      margin-bottom: 10px;
    }
    .form-container p,
    .form-container a {
      /* Adjusted margin */
      margin-bottom: 10px; 
    }
    /* Styles for the terms and conditions link */
    .form-container a {
      color: #4c4c4c;
      text-decoration: none;
    }
  
    /* Styles for the submit button */
    .form-container button[type="submit"] {
      border: none;
      border-radius: 10px;
      background: linear-gradient(35deg, #ffefde 55%, rgb(58, 155, 188) 70%, #00171f 80%);
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
  
    /* Hover effect for the submit button */
    .form-container button[type="submit"]:hover {
      background-color: #ffbf80;
    }
  
    /* Clearfix to contain floated elements */
    .clearfix::after {
      content: "";
      display: table;
      clear: both;
    }
    .close {
      position: absolute;
    top: 10px;
    right: 10px;
    font-size: 20px;
    color: white;
    background-color: slategrey;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    width: 30px;
    height: 30px;
    padding: 0;
    text-align: center;
    line-height: 30px;
    animation: pulsate 1.5s infinite alternate;
    }

  @keyframes pulsate {
    0% {
      background-color: slategrey;
    }
    100% {
      background-color: darkslategrey;
    }
  }
  /* Animation for drawing line around input fields */
  @keyframes drawLine {
    0% {
      box-shadow: 0 0 0 0px red, 0 0 0 0px blue, 0 0 0 0px white;
    }
    100% {
      box-shadow: 0 0 0 2px red, 0 0 0 4px blue, 0 0 0 6px white;
    }

  }
  @keyframes delayedShadow {
  0% {
    box-shadow: none;
  }
  100% {
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
  }
}
  </style>
  
</head>
<body>
  <form action="/Inregistrare.html" id="InregistrareForm" class="form-container" method="post" formtarget="_self">
    <div class="container_pagina_inregistrare">
      <span class="close" onclick="closeForm()">&times;</span> <!-- Close button -->
      <h2>Inregistrare</h2>
      <p style="border: 1px solid; background-color: whitesmoke; border-radius: 20px;">Completeaza campurile de mai jos cu datele personale pentru a crea un cont!</p>
      <label for="email"><b>Email</b></label>
      <input type="text" placeholder="Introdu adresa de Email" name="email" id="email" required>
      <label for="password"><b>Parola</b></label>
      <input type="password" placeholder="Introdu Parola:" name="password" id="password" required>
      <label for="password_repeat"><b>Repeta Parola</b></label>
      <input type="password" placeholder="Repeta Parola:" name="password_repeat" id="password_repeat" required>
      <label for="username"><b>Username</b></label>
      <input type="text" placeholder="Introdu Username:" name="username" id="username" required>
      <label>
        <input type="checkbox" checked="checked" name="remember"> Tine minte datele de conectare
      </label>
      <p>Creandu-ti un cont, esti de acord cu:
        <a href="#link" style="background: linear-gradient(65deg, #e0c8ae 35%,rgb(77, 94, 100)70%, #563939) 80%; text-decoration: wavy;">Termenele & Conditiile</a>.
      </p>
      <div class="clearfix">
        <button type="submit" class="signupbtn" style="background: linear-gradient(35deg, #ffefde 55%,rgb(58, 155, 188)70%, #00171f) 80%;">Inregistreaza-te</button>
      </div>
    </div>
  </form>
  <script>
    document.getElementById('InregistrareForm').addEventListener('submit', async (event) => {
      event.preventDefault();

      const formData = new FormData(event.target);

      try {
        const response = await fetch('/Inregistrare.html', {
          method: 'POST',
          body: formData,
        });

        if (!response.ok) {
          throw new Error('Failed to register user.');
        }

        const data = await response.json();
        console.log('User registered successfully:', data);
      } catch (error) {
        console.error(error.message);
      }
    });
  </script>
</body>
</html>